<html>
<head>
<script type="text/javascript" src="jquery-1.5.1.min.js"></script>
<script type="text/javascript" src ="control.js"></script>
<script type="text/javascript" src="protovis-d3.2.js"></script>
</head>

<body>
<h1>JSON METER</h1>
<div id="jsonData">
</div>
<div>
<script type="text/javascript+protovis">
    var tmpdata = pv.range(0, 10, .2).map(function(x) {
        return {x: x, y: Math.sin(x) + Math.random() + 1.5};
        });
    var data=tmpdata;
    
    /* Sizing and scales. */
    var w = 400,
        h = 200,
        x = pv.Scale.linear(data, function(d) d.x).range(0, w),
        y = pv.Scale.linear(0, 4).range(0, h);
        
    /* The root panel. */
    var vis = new pv.Panel()
        .width(w)
        .height(h)
        .bottom(20)
        .left(20)
        .right(10)
        .top(5);
    
    /* X-axis ticks. */
    vis.add(pv.Rule)
        .data(x.ticks())
        .visible(function(d) d > 0)
        .left(x)
        .strokeStyle("#eee")
    .add(pv.Rule)
        .bottom(-5)
        .height(5)
        .strokeStyle("#000")
    .anchor("bottom").add(pv.Label)
        .text(x.tickFormat);
    
    /* Y-axis ticks. */
    vis.add(pv.Rule)
        .data(y.ticks(5))
        .bottom(y)
        .strokeStyle(function(d) d ? "#eee" : "#000")
    .anchor("left").add(pv.Label)
        .text(y.tickFormat);
    
    /* The line. */
    vis.add(pv.Line)
        .data(tmpdata)
        .interpolate("step-after")
        .left(function(d) x(d.x))
        .bottom(function(d) y(d.y))
        .lineWidth(3);
    
    vis.render();
</script>
</div>
</body>
</html> 
